/* project.css
   Styles for project.html (full file).
   Includes added styles for the new "raw" button.
   Optimized for smooth motion.
*/

:root{
  --bg: #071019;
  --card-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
  --glass-border: rgba(255,255,255,0.04);
  --neon-cyan: #7ff6ff;
  --neon-purple: #c986ff;
  --muted: #9fbcc7;
  --accent-text: #e8f2f8;
  --radius: 12px;

  --comment-bg: rgba(255,255,255,0.02);
  --comment-border: rgba(255,255,255,0.04);
  --accent-button: linear-gradient(180deg,#bff8ff,#8ef0f9);
  --danger: #ff4444;

  /* Inherit smooth easing or define fallback */
  --ease-smooth: cubic-bezier(0.23, 1, 0.32, 1);
}

*{box-sizing:border-box}
body.project-page {
  background: var(--bg);
  color: var(--accent-text);
  padding: 18px;
  min-height: 100vh;
  font-family: 'Rajdhani', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  -webkit-tap-highlight-color: transparent;
  scroll-behavior: smooth;
}

/* Scrolling fix for desktop */
@media (min-width: 769px) {
  body.project-page {
    overflow-y: auto !important;
  }
}

.project-container { 
    max-width: 980px; margin: 0 auto; display:flex; flex-direction:column; gap:16px; padding-bottom:24px; 
    /* Smooth entry */
    opacity: 0;
    animation: fadeInPage 0.8s var(--ease-smooth) forwards;
}

@keyframes fadeInPage {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Top metadata card */
.project-card-top {
  display:flex; gap:18px; align-items:flex-start; align-content:flex-start;
  background: var(--card-bg); border:1px solid var(--glass-border); padding:16px; border-radius:var(--radius);
  box-shadow: 0 12px 30px rgba(0,0,0,0.45); flex-wrap:wrap; height:auto;
  transition: transform 0.4s var(--ease-smooth), box-shadow 0.4s var(--ease-smooth);
}
.project-card-top:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 40px rgba(0,0,0,0.5);
}

/* Icon styling */
.project-image { 
    width: 96px; height: 96px; border-radius: 20px; overflow:hidden; flex: 0 0 96px; display:flex; align-items:center; justify-content:center; 
    background: rgba(255,255,255,0.02); border: 3px solid rgba(127,246,255,0.18); box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    transition: transform 0.5s var(--ease-smooth), border-color 0.5s var(--ease-smooth); 
}
.project-image:hover { transform: scale(1.05); border-color: var(--neon-cyan); }
.project-image img { width:100%; height:100%; object-fit:cover; display:block; }

.meta-column { 
    flex:1 1 220px; min-width:200px; 
    display:flex; flex-direction:column; gap:8px; 
    align-self:flex-start; 
}

.meta-header {
    display:flex; align-items:flex-start; justify-content:space-between; width:100%;
}

.title-group {
    display: flex; flex-direction: column; gap: 2px;
}
.project-title { margin:0; font-size:1.45rem; line-height:1.1; font-weight:700; color:#fff; font-family: 'Orbitron', 'Rajdhani', sans-serif; }
.project-dev { color:var(--muted); font-size:0.92rem; font-weight:600; letter-spacing:0.02em; text-transform:uppercase; margin-top:4px;}

.stats-row { display:flex; gap:18px; align-items:center; color:var(--muted); font-size:0.92rem; flex-wrap:wrap; }
.stat { display:flex; flex-direction:column; align-items:flex-start; gap:4px; min-width:64px; }
.stat .big { font-weight:700; color:var(--accent-text); display:flex; align-items:center; gap:8px; font-size:1rem; }
.divider-vert { width:1px; height:28px; background:rgba(255,255,255,0.03); margin:0 8px; }

.actions { display:flex; gap:10px; align-items:center; margin-top:8px; width:100%; }
.install-wrap {
    display:flex;
    gap:10px;
    align-items:center;
    width:100%;
    max-width:640px;
    flex-wrap:wrap;
}
.install-btn { 
    flex: 1 1 auto; 
    background: var(--accent-button); 
    color:#00120a; 
    padding:14px 18px; 
    border-radius:28px; 
    font-weight:700; 
    border:none; 
    display:flex; 
    align-items:center; 
    justify-content:center; 
    gap:10px; 
    cursor:pointer; 
    box-shadow: 0 6px 18px rgba(13,158,165,0.12); 
    min-width: 200px;
    transition: transform 0.3s var(--ease-smooth), box-shadow 0.3s var(--ease-smooth), filter 0.3s var(--ease-smooth);
    will-change: transform;
}
.install-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(13,158,165,0.25);
    filter: brightness(1.1);
}
.install-btn:active { transform: translateY(-1px); }

/* New secondary raw link button */
.raw-btn {
    flex: 0 0 auto;
    background: transparent;
    color: var(--neon-cyan);
    padding: 12px 14px;
    border-radius: 18px;
    border: 1px solid rgba(127,246,255,0.12);
    display: inline-flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    font-weight: 700;
    transition: transform 0.3s var(--ease-smooth), box-shadow 0.3s var(--ease-smooth), background 0.3s var(--ease-smooth);
    min-width: 160px;
    will-change: transform;
}
.raw-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(122,252,255,0.06);
    background: rgba(127,246,255,0.03);
}
.raw-btn:active { transform: translateY(-1px); }

.install-note { color:var(--muted); font-size:0.85rem; margin-top:6px; }

.raw-btn[disabled], .install-btn[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* Screenshot strip */
.screenshot-card { 
    background: var(--card-bg); border:1px solid var(--glass-border); padding:12px; border-radius:var(--radius); 
    overflow:hidden; position:relative; 
    transition: border-color 0.3s var(--ease-smooth);
}
.screenshot-strip {
  display:flex; gap:12px; overflow-x:auto; padding:8px 56px; 
  -webkit-overflow-scrolling:touch; scroll-snap-type:x mandatory;
  scroll-behavior: smooth; /* Native smooth scroll for strip */
}
.screenshot-strip::-webkit-scrollbar { height:8px; }
.screenshot-thumb {
  min-width:160px; height:280px; border-radius:14px; overflow:hidden; flex: 0 0 auto;
  background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.12)); border:1px solid rgba(255,255,255,0.03);
  display:flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(0,0,0,0.45); 
  scroll-snap-align:center; aspect-ratio: 9/16; position:relative;
  transition: transform 0.4s var(--ease-smooth), border-color 0.4s var(--ease-smooth);
  cursor: zoom-in;
}
.screenshot-thumb:hover {
    transform: scale(1.02);
    border-color: rgba(255,255,255,0.2);
}
.screenshot-thumb img { width:100%; height:100%; object-fit:cover; display:block; }

.carousel-arrow { 
    position:absolute; top:50%; transform:translateY(-50%); background: rgba(0,0,0,0.45); color:#fff; border-radius:8px; width:44px; height:44px; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:9999; border: 1px solid rgba(255,255,255,0.03); 
    transition: opacity 0.3s var(--ease-smooth), background 0.3s var(--ease-smooth), transform 0.3s var(--ease-smooth); 
    opacity:1; -webkit-tap-highlight-color: transparent; 
}
.carousel-arrow:hover { background: rgba(0,0,0,0.7); transform: translateY(-50%) scale(1.1); }
.carousel-arrow:active { transform: translateY(-50%) scale(0.95); }

.carousel-arrow.left { left:10px; } .carousel-arrow.right { right:10px; }
.carousel-arrow[disabled] { opacity:0.18; pointer-events:none; }

@media (max-width:720px) {
  .carousel-arrow { width:36px; height:36px; border-radius:50%; }
  .screenshot-strip { padding:8px 40px; } .screenshot-thumb { height:210px; min-width:200px; }
}

/* Lightbox */
.lightbox { 
    position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(2,6,12,0.95); z-index:12000; padding:24px; 
    opacity: 0; transition: opacity 0.3s var(--ease-smooth);
}
.lightbox.open { display:flex; opacity: 1; }
.lightbox-inner { 
    max-width:94%; max-height:90%; width:100%; position:relative; display:flex; align-items:center; justify-content:center; 
    transform: scale(0.95); transition: transform 0.4s var(--ease-smooth);
    will-change: transform;
}
.lightbox.open .lightbox-inner { transform: scale(1); }

.lightbox img { max-width:100%; max-height:calc(100vh - 160px); object-fit:contain; border-radius:8px; box-shadow:0 20px 50px rgba(0,0,0,0.6); }
.lightbox .lb-close, .lightbox .lb-prev, .lightbox .lb-next { 
    position:absolute; background: rgba(0,0,0,0.45); color:#fff; border:none; padding:10px; border-radius:8px; cursor:pointer; display:flex; align-items:center; justify-content:center; z-index:12010; 
    transition: background 0.2s var(--ease-smooth), transform 0.2s var(--ease-smooth);
}
.lightbox .lb-close:hover, .lightbox .lb-prev:hover, .lightbox .lb-next:hover { background: rgba(255,255,255,0.1); transform: scale(1.1); }

.lightbox .lb-close { top:12px; right:12px; } 
/* Centered arrows vertically in lightbox */
.lightbox .lb-prev { left:12px; top:50%; transform:translateY(-50%); } 
.lightbox .lb-next { right:12px; top:50%; transform:translateY(-50%); }
.lightbox .lb-prev:hover { transform:translateY(-50%) scale(1.1); }
.lightbox .lb-next:hover { transform:translateY(-50%) scale(1.1); }


/* About card, chips */
.about-card { background:var(--card-bg); border:1px solid var(--glass-border); border-radius:var(--radius); padding:16px; }
.about-card h3 { margin:0 0 8px 0; color:var(--neon-purple); font-family:var(--font-head); font-weight:700; }
.chip-row { display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
.chip { 
    background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); padding:8px 12px; border-radius:14px; color:var(--muted); font-weight:700; font-size:0.9rem; 
    transition: background 0.3s var(--ease-smooth), color 0.3s var(--ease-smooth);
}
.chip:hover { background: rgba(255,255,255,0.08); color: #fff; }

/* Comments */
.comments-card { background: var(--card-bg); border:1px solid var(--glass-border); border-radius:var(--radius); padding:16px; display:flex; flex-direction:column; gap:12px; }
.muted { color:var(--muted); font-size:0.95rem; }

/* Comment Form */
.comment-form {
  display: grid;
  grid-template-columns: 56px 1fr;
  gap: 12px;
  align-items: start;
  background: var(--comment-bg);
  border: 1px solid var(--comment-border);
  padding: 12px;
  border-radius: 12px;
  transition: border-color 0.3s var(--ease-smooth);
}
.comment-form:focus-within { border-color: rgba(127,246,255,0.3); }

.comment-avatar { width:56px; height:56px; border-radius:50%; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); display:flex; align-items:center; justify-content:center; color:var(--neon-cyan); font-weight:700; border:2px solid rgba(127,246,255,0.08); flex-shrink:0; }
.comment-controls { display:flex; flex-direction:column; gap:10px; }

.comment-row { display:flex; gap:8px; align-items:center; justify-content:flex-end; }
.floating-input { position:relative; width:100%; }
.floating-input input { 
    width:100%; padding:12px 12px 10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background: rgba(0,0,0,0.18); color:#fff; font-size:0.95rem; 
    transition: border-color 0.3s var(--ease-smooth), background 0.3s var(--ease-smooth);
}
.floating-input label { position:absolute; left:12px; top:10px; font-size:0.75rem; color:var(--muted); pointer-events:none; transition: all 0.3s var(--ease-smooth); }
.floating-input input:focus + label, .floating-input input:not(:placeholder-shown) + label { transform: translateY(-14px) scale(0.95); color:var(--neon-cyan); }

.rating-widget { display:flex; gap:6px; align-items:center; }
.rating-widget .star-btn { 
    background:transparent; border:none; cursor:pointer; padding:6px; border-radius:6px; color:var(--muted); font-size:18px; 
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), color 0.2s ease;
}
.rating-widget .star-btn:hover { transform: scale(1.2); color: #fff; }
.rating-widget .star-btn.active { color:#ffcf58; }

.comment-textarea { 
    width:100%; min-height:88px; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background: rgba(0,0,0,0.18); color:#fff; resize:vertical; font-size:0.95rem; 
    transition: border-color 0.3s var(--ease-smooth), background 0.3s var(--ease-smooth);
}
.comment-actions { display:flex; gap:10px; align-items:center; justify-content:space-between; }
.char-counter { color:var(--muted); font-size:0.85rem; }
.send-btn { 
    background: var(--accent-button); color:#00120a; border:none; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; box-shadow: 0 6px 18px rgba(13,158,165,0.08); 
    transition: transform 0.3s var(--ease-smooth), box-shadow 0.3s var(--ease-smooth);
}
.send-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(13,158,165,0.15); }
.send-btn:active { transform: translateY(0); }
.send-btn[disabled] { opacity:0.45; cursor:not-allowed; transform:none; box-shadow:none; }
.comment-preview { background: rgba(255,255,255,0.01); border:1px dashed rgba(255,255,255,0.03); padding:10px; border-radius:8px; color:var(--muted); font-size:0.92rem; display:none; animation: fadeIn 0.3s var(--ease-smooth); }

@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }

@media (max-width:520px) {
  .comment-form { grid-template-columns: 48px 1fr; gap:8px; padding:10px; }
  .comment-avatar { width:48px; height:48px; }
}

/* Admin / Delete mode */
.admin-controls {
    border: 1px solid var(--danger);
    padding: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    background: rgba(255, 68, 68, 0.05);
    text-align: center;
    color: #fff;
    animation: shake 0.5s var(--ease-smooth);
}
@keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }

.comment-item.admin-view {
    border-left: 4px solid var(--danger);
    padding-left: 12px;
    background: rgba(255, 68, 68, 0.02);
}
.delete-action-btn {
    background: var(--danger);
    color: #fff;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    margin-top: 10px;
    font-weight: 700;
    width: 100%;
    transition: background 0.2s var(--ease-smooth), transform 0.2s var(--ease-smooth);
}
.delete-action-btn:hover {
    background: #ff6b6b;
    transform: translateY(-2px);
}
.exit-admin-btn {
    width: 100%;
    padding: 12px;
    background: rgba(255,255,255,0.1);
    color: #fff;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 8px;
    margin-top: 20px;
    cursor: pointer;
    font-weight: bold;
    letter-spacing: 1px;
    transition: background 0.3s var(--ease-smooth);
}
.exit-admin-btn:hover { background: rgba(255,255,255,0.2); }

button:focus, input:focus, textarea:focus { outline: 3px solid rgba(127,246,255,0.12); outline-offset: 4px; transition: outline 0.2s ease; }
.sr-only { position:absolute!important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; border:0; padding:0; margin:-1px; }

@media (max-width: 600px) {
  .project-card-top {
    display: grid;
    grid-template-columns: 88px 1fr; 
    grid-template-rows: auto auto auto auto;
    grid-template-areas:
      "img title"
      "stats stats"
      "btn btn"
      "note note";
    gap: 12px 16px;
    align-items: center;
    padding: 16px;
  }

  .project-image {
    grid-area: img;
    width: 88px; height: 88px;
    margin: 0;
    flex: 0 0 88px; 
  }

  .meta-column, .meta-header { display: contents; }

  .title-group {
    grid-area: title;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    padding-top: 4px;
  }
  .project-title { font-size: 1.4rem; line-height: 1.15; margin-bottom: 4px; }
  .project-dev { font-size: 0.9rem; }

  .stats-row {
    grid-area: stats;
    width: 100%;
    justify-content: space-around;
    margin-top: 8px;
    margin-bottom: 4px;
    gap: 0;
  }
  .divider-vert { display: none; } 
  .stat { align-items: center; }

  .actions { grid-area: btn; width: 100%; margin-top: 0; }
  .install-wrap { max-width: 100%; width: 100%; }
  .install-btn { width: 100%; padding: 16px; } 
  .raw-btn { width: 100%; justify-content: center; }
  .install-note { grid-area: note; text-align: center; margin-top: 0; }
}